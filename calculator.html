<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ç¢³è¶³è·¡è¨ˆç®—å™¨</title>

  <!-- è¼‰å…¥è¨­å®šæª” -->
  <script src="config.js"></script>

  <!-- è¼‰å…¥æ¨£å¼ & åœ–è¡¨å¥—ä»¶ -->
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div class="container">
    <h1>ç¢³è¶³è·¡è¨ˆç®—å™¨</h1>
    <p>è¼¸å…¥æˆ–é¸æ“‡å¸¸è¦‹æ’æ”¾ä¾†æºï¼Œç³»çµ±æœƒç”¨æœ€æ–°ç’°å¢ƒç½²ä¿‚æ•¸è¨ˆç®—ç¢³è¶³è·¡ã€‚</p>

    <!-- å¿«é€Ÿæ–°å¢æŒ‰éˆ• -->
    <div class="quick-buttons" id="quickButtons"></div>

    <!-- è‡ªè¨‚è¼¸å…¥åˆ— -->
    <div id="customItems"></div>
    <button class="compute-btn" onclick="addCustom()">ï¼‹ æ–°å¢æ’æ”¾é …ç›®</button>

    <hr>

    <button class="compute-btn" onclick="calculate()">è¨ˆç®—ç¸½æ’æ”¾é‡</button>
    <p id="result"></p>

    <!-- åœ“é¤…åœ– -->
    <div id="chart-container">
      <canvas id="carbonChart"></canvas>
    </div>

    <!-- åŒ¯å‡º PDF æŒ‰éˆ• -->
    <button id="downloadBtn" onclick="downloadPDF()">ğŸ“„ åŒ¯å‡º PDF å ±å‘Š</button>
  </div>

  <script>
    let emissionFactors = [];
    let chartInstance = null;
    let lastLabels = [];
    let lastValues = [];
    let lastTotal = 0;

    const quickCommonItems = ["é›»åŠ›", "æ±½æ²¹", "æŸ´æ²¹", "ç´™å¼µ", "é£›æ©Ÿ"];

    async function loadFactors() {
      const API_KEY_
