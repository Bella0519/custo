<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>Custos Carbon - 首頁</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>Custos Carbon</h1>
    <nav class="main-nav">
      <div class="nav-links">
        <a href="index.html">首頁</a>
        <a href="about.html">關於我們</a>
        <a href="calculator.html">碳足跡計算器</a>
        <a href="contact.html">聯絡我們</a>
      </div>
      <div class="nav-login">
        <span id="welcome-user"></span>
        <a href="dashboard.html" class="dashboard-link">會員中心</a>
        <a href="login.html" class="login-btn">Login</a>
      </div>
    </nav>
  </header>

  <main>
    <h2>歡迎來到 Custos Carbon</h2>
    <p>一起追蹤並減少你的碳足跡 🌱</p>
  </main>

  <footer>
    <p>© 2025 Custos Carbon</p>
  </footer>

  <script>
    // 讀取登入狀態
    const loginLink = document.querySelector('.login-btn');
    const welcomeUser = document.getElementById('welcome-user');
    const username = localStorage.getItem('username');

    if (localStorage.getItem('isLoggedIn') === 'true') {
      loginLink.textContent = "Logout";
      loginLink.href = "#";
      if (username) {
        welcomeUser.textContent = `Hi, ${username}`;
      }

      loginLink.addEventListener('click', function (e) {
        e.preventDefault();
        if (confirm("確定要登出嗎？")) {
          localStorage.removeItem('isLoggedIn');
          localStorage.removeItem('username');
          alert("已登出");
          window.location.reload();
        }
      });
    }
  </script>
</body>
</html>
